<!DOCTYPE html>
<html class="w-mod-js w-mod-ix wf-dmsans-n5-active wf-dmsans-n7-active wf-dmsans-n4-active wf-active" data-wf-domain="darktemplate.webflow.io" data-wf-locale="en" data-wf-page="61113c4e9f23df42e2554109" data-wf-site="61113c4e9f23df1e7f554117" data-wf-status="1" lang="en">
<head>
  <style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style>
  <meta charset="utf-8"/>
  <title>Policy Proposals | PolityxMap</title>
  <meta content="Explore healthcare policy proposals with PolityxMap. Search, filter, and sort proposals by region, issue area, and impact potential." name="description"/>
  <meta content="Policy Proposals | PolityxMap" property="og:title"/>
  <meta content="Explore healthcare policy proposals with PolityxMap. Search, filter, and sort proposals by region, issue area, and impact potential." property="og:description"/>
  <meta content="https://cdn.prod.website-files.com/61113c4e9f23df1e7f554117/6116f87a2ba0ad7e5947b25e_featured-image-dark-template.png" property="og:image"/>
  <meta content="Policy Proposals | PolityxMap" property="twitter:title"/>
  <meta content="Explore healthcare policy proposals with PolityxMap. Search, filter, and sort proposals by region, issue area, and impact potential." property="twitter:description"/>
  <meta content="https://cdn.prod.website-files.com/61113c4e9f23df1e7f554117/6116f87a2ba0ad7e5947b25e_featured-image-dark-template.png" property="twitter:image"/>
  <meta content="website" property="og:type"/>
  <meta content="summary_large_image" name="twitter:card"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="Webflow" name="generator"/>
  <link href="https://cdn.prod.website-files.com/61113c4e9f23df1e7f554117/css/darktemplate.webflow.eb6e6d95d.css" rel="stylesheet" type="text/css"/>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="anonymous" href="https://fonts.gstatic.com" rel="preconnect"/>
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <link href="https://fonts.googleapis.com/css?family=DM+Sans:regular,500,700" media="all" rel="stylesheet"/>
  <script type="text/javascript">WebFont.load({  google: {    families: ["DM Sans:regular,500,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
    <!-- Favicon implementation -->
  <link rel="icon" type="image/svg+xml" href="img/PolityxFavicon.svg">
  <link rel="icon" type="image/png" href="img/PolityxFavicon.png">
  <link rel="apple-touch-icon" href="img/PolityxFavicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="img/PolityxFavicon.png">
  <!-- Supabase Client -->
  <script src="js/supabase-client.js"></script>
  <!-- Includes script for header and footer -->
  <script src="includes.js"></script>
  <!-- Unified Proposals System -->
  <script src="proposals.js"></script>
  <script src="data-migration.js"></script>
  <!-- Proposals Router Script -->
  <script src="proposals-router.js"></script>
  
  <!-- PROPOSALS_LIST_START -->
      <script>
        // This list is auto-generated by proposal-page-generator.js
        window.GENERATED_PROPOSALS_DATA = [
  {
    "name": "Mental Health Crisis Response Initiative",
    "city": "Ithaca",
    "state": "New York",
    "country": "United States",
    "lat": 42.444,
    "lng": -76.5019,
    "description": "Comprehensive mental health support program addressing displacement-related trauma, social isolation, and pandemic-induced psychological distress.",
    "full_name": "Sahaj Satani",
    "email": "ss4497@cornell.edu",
    "university": "Cornell University",
    "background": "Ithaca, New York faces a significant mental health crisis that has been exacerbated by the COVID-19 pandemic and ongoing gentrification pressures. Recent research indicates that mental health issues, particularly those stemming from residential displacement and social isolation, represent the most prevalent health concern affecting our community. The displacement from gentrifying neighborhoods has led to documented increases in emergency department visits and hospitalizations, primarily due to mental health complications. The city's unique demographic composition, including a large student population from Cornell University and Ithaca College, combined with long-term residents facing housing displacement, creates a complex mental health landscape. The pandemic has intensified existing vulnerabilities, with nursing home residents, healthcare workers, and displaced community members experiencing heightened psychological distress. Current mental health infrastructure is insufficient to address the scale and complexity of need, with residents often facing barriers to accessing appropriate care including cost, availability, and cultural competency of services. The convergence of academic stress, housing insecurity, social isolation, and pandemic-related trauma has created a perfect storm requiring immediate, comprehensive intervention. Without action, we anticipate continued increases in crisis presentations, substance abuse, and overall community wellbeing deterioration.",
    "overview": "The Ithaca Mental Health Access Initiative establishes a comprehensive, multi-tiered mental health support system that addresses both immediate crisis needs and long-term preventive care. The policy creates four integrated program components: 1) Community Mental Health Hub Network - Establishment of three strategically located mental health centers providing accessible, culturally competent services including individual therapy, group counseling, crisis intervention, and peer support programs. 2) Mobile Crisis Response Teams - 24/7 mobile units staffed with licensed mental health professionals and peer specialists to provide immediate intervention and support, reducing reliance on emergency departments for mental health crises. 3) Displacement Trauma Recovery Program - Specialized services for residents affected by gentrification and housing displacement, including trauma-informed therapy, housing advocacy support, and community stabilization resources. 4) Integrated University-Community Mental Health Services - Collaborative program between Cornell University, Ithaca College, and community providers to address student mental health needs while building capacity for broader community services. The initiative emphasizes trauma-informed care, cultural competency, and community-based solutions that address root causes rather than solely symptomatic treatment.",
    "stakeholders": "Primary Stakeholders: City of Ithaca Government and Mayor's Office, Tompkins County Health Department, Cayuga Health System and local healthcare providers, Cornell University Health Services and Counseling & Psychological Services, Ithaca College Health and Counseling Services, Tompkins County Mental Health Association, Community housing organizations and tenant advocacy groups. Secondary Stakeholders: New York State Office of Mental Health, Local faith-based organizations and community centers, Ithaca City School District, Law enforcement and emergency services, Social services organizations, Local businesses and employers, Resident advocacy groups, LGBTQ+ community organizations, Immigrant and refugee service providers. Funding Partners: Federal SAMHSA block grants, New York State mental health funding streams, Private foundation grants (Robert Wood Johnson Foundation, etc.), University endowment contributions, Local business community partnerships.",
    "costs": "Year 1 Implementation Costs: $2,847,000. Personnel (65% - $1,850,550): Program Director: $95,000 + benefits, 12 Licensed Mental Health Counselors: $720,000 + benefits, 6 Peer Support Specialists: $270,000 + benefits, 4 Mobile Crisis Team Leaders: $280,000 + benefits, 3 Administrative Staff: $135,000 + benefits, Training and professional development: $75,000. Infrastructure (20% - $569,400): Three community mental health hub leases and renovations: $360,000, Mobile crisis response vehicles (2): $120,000, Technology systems and telehealth platforms: $89,400. Operations (15% - $427,050): Medical supplies and assessment tools: $45,000, Transportation and outreach costs: $78,000, Communications and marketing: $35,000, Evaluation and data systems: $95,000, Insurance and liability: $67,000, Utilities and maintenance: $107,050. Ongoing Annual Costs (Years 2-5): $2,145,000 with personnel costs including 3% annual increases and reduced infrastructure costs. Revenue Sources: Federal grants (40%): $1,138,800, State funding (25%): $711,750, County/City funding (20%): $569,400, University partnerships (10%): $284,700, Private donations/foundations (5%): $142,350.",
    "metrics": "Primary Outcomes (Measured Quarterly): 25% reduction in mental health-related emergency department visits within 18 months, 40% increase in community mental health service utilization, 60% of program participants report improved mental health functioning using standardized assessment tools (PHQ-9, GAD-7), 90% client satisfaction rate with services received. Secondary Outcomes (Measured Annually): 35% reduction in involuntary psychiatric hospitalizations, 50% decrease in crisis calls to emergency services for mental health issues, 80% of displaced residents receiving services report improved housing stability, 15% improvement in community mental health literacy scores. Process Metrics (Measured Monthly): Response time for mobile crisis teams averages under 45 minutes, 85% of appointments scheduled within 2 weeks of initial contact, 70% retention rate in ongoing therapy services, 95% of staff meet continuing education requirements. Long-term Impact Indicators (Measured at 3 and 5 years): Measurable improvement in community mental health status through population surveys, Reduced overall healthcare costs related to mental health crises, Increased community resilience and social cohesion metrics, Sustainable funding model established with diversified revenue streams.",
    "timeline": "Phase 1: Foundation (Months 1-6) - Secure initial funding commitments and finalize budget, Hire Program Director and core administrative staff, Establish partnerships with Cornell, Ithaca College, and healthcare systems, Identify and secure locations for three community mental health hubs, Develop policies, procedures, and clinical protocols, Create data collection and evaluation systems. Phase 2: Infrastructure Development (Months 4-9) - Complete renovations and setup of mental health hubs, Recruit and hire clinical staff and peer specialists, Purchase and outfit mobile crisis response vehicles, Implement technology systems and telehealth capabilities, Conduct comprehensive staff training programs, Develop community outreach and education materials. Phase 3: Service Launch (Months 7-12) - Soft launch of Hub 1 with limited services, Begin mobile crisis response pilot program, Launch community education and awareness campaign, Establish referral networks with existing providers, Implement data collection and monitoring systems, Open Hub 2 and expand service offerings. Phase 4: Full Implementation (Months 10-18) - Open Hub 3 and achieve full service capacity, Launch specialized displacement trauma recovery program, Implement university-community integration services, Begin formal evaluation and outcome measurement, Establish sustainability planning committee, Conduct first comprehensive program review. Phase 5: Optimization and Sustainability (Months 15-24) - Analyze program data and optimize service delivery, Expand successful program components, Develop long-term funding sustainability plan, Create program replication toolkit for other communities, Establish ongoing quality improvement processes, Plan for program expansion based on demonstrated need and success.",
    "proposal_text": "ORDINANCE NO. 2025-MH-001 - AN ORDINANCE ESTABLISHING THE ITHACA MENTAL HEALTH ACCESS INITIATIVE. WHEREAS, the City of Ithaca recognizes mental health as a fundamental component of community wellbeing and public health; and WHEREAS, recent research has identified mental health issues, particularly those related to displacement and social isolation, as the most prevalent health concern affecting Ithaca residents; and WHEREAS, the COVID-19 pandemic has exacerbated existing mental health challenges and created new barriers to accessing appropriate care; and WHEREAS, gentrification and housing displacement have contributed to increased mental health crises requiring emergency intervention; and WHEREAS, the current mental health infrastructure is insufficient to meet the complex needs of our diverse community, including students, long-term residents, and vulnerable populations; and WHEREAS, proactive investment in comprehensive mental health services will reduce long-term healthcare costs and improve overall community resilience; NOW, THEREFORE, BE IT ORDAINED by the Common Council of the City of Ithaca as follows: Section 1. Establishment of Initiative - There is hereby established the Ithaca Mental Health Access Initiative, a comprehensive program designed to provide accessible, culturally competent mental health services to all residents of Ithaca, with particular focus on addressing displacement-related trauma, social isolation, and crisis intervention needs. Section 2. Program Components - The Initiative shall consist of four integrated components: A. Community Mental Health Hub Network providing accessible outpatient services, B. Mobile Crisis Response Teams for immediate intervention and support, C. Displacement Trauma Recovery Program for residents affected by housing displacement, D. Integrated University-Community Mental Health Services collaboration. Section 3. Governance Structure - A Mental Health Initiative Advisory Board shall be established, consisting of representatives from city government, healthcare providers, educational institutions, community organizations, and residents with lived experience of mental health challenges. Section 4. Funding and Budget Authorization - The City Manager is authorized to seek, accept, and expend funds from federal, state, local, and private sources totaling up to $2,847,000 for initial implementation, with ongoing annual funding not to exceed $2,145,000 without additional Council approval. Section 5. Implementation Requirements - All services shall be provided using trauma-informed, culturally competent approaches that prioritize community-based solutions and evidence-based practices. The program shall maintain comprehensive data collection and evaluation systems to ensure accountability and continuous improvement. Section 6. Reporting Requirements - The Program Director shall provide quarterly reports to the Common Council detailing program outcomes, budget status, and recommendations for program optimization. Section 7. Effective Date - This ordinance shall take effect immediately upon passage and publication as required by law. The Ithaca Mental Health Access Initiative represents a transformative investment in our community's wellbeing. By addressing the root causes of mental health challenges and providing comprehensive, accessible support services, we can build a more resilient, healthy, and equitable community for all residents. This initiative positions Ithaca as a model for community-based mental health care that other cities can emulate and adapt to their unique circumstances.",
    "image": "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
    "tags": [
      "mental health",
      "community health",
      "crisis intervention",
      "displacement trauma",
      "social isolation",
      "COVID-19 response",
      "gentrification",
      "university partnerships",
      "mobile crisis response",
      "trauma-informed care",
      "community resilience",
      "healthcare access",
      "public health policy",
      "Ithaca NY",
      "Tompkins County",
      "preventive care",
      "peer support",
      "cultural competency",
      "sustainable funding",
      "evidence-based practice"
    ]
  }
];
      </script>
      <!-- PROPOSALS_LIST_END -->
  
  <style>
  .w-webflow-badge{
    display:none !important;
  }
  
  .bg-gradient-blur-wrapper {
    position: absolute;
    width: 700px;
    height: 700px;
    z-index: 0;
    opacity: 0.3;
  }
  
  .proposals-heading {
    font-size: 56px;
    line-height: 1.1;
    font-weight: 700;
    color: #fff;
    margin-bottom: 20px;
  }
  
  .proposals-accent {
    color: #8A67FF;
  }
  
  .proposals-description {
    font-size: 18px;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 30px;
  }
  
  .filter-container {
    background-color: rgba(28, 26, 36, 0.8);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 40px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }
  
  .filter-title {
    font-size: 18px;
    font-weight: 600;
    color: #fff;
    margin-bottom: 15px;
  }
  
  .search-input {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    color: #fff;
    padding: 12px 15px;
    width: 100%;
    margin-bottom: 20px;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.3s ease;
  }
  
  .search-input:focus {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: rgba(138, 103, 255, 0.5);
    outline: none;
  }
  
  .search-input::placeholder {
    color: rgba(255, 255, 255, 0.5);
  }
  
  .tag-filter {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }
  
  .tag {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 30px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .tag.healthcare {
    background-color: rgba(138, 103, 255, 0.2);
    color: #8A67FF;
  }
  
  .tag.healthcare.active, .tag.healthcare:hover {
    background-color: rgba(138, 103, 255, 0.4);
  }
  
  .tag.maternal {
    background-color: rgba(56, 182, 255, 0.2);
    color: #38B6FF;
  }
  
  .tag.maternal.active, .tag.maternal:hover {
    background-color: rgba(56, 182, 255, 0.4);
  }
  
  .tag.mental {
    background-color: rgba(255, 103, 132, 0.2);
    color: #FF6784;
  }
  
  .tag.mental.active, .tag.mental:hover {
    background-color: rgba(255, 103, 132, 0.4);
  }
  
  .tag.pediatrics {
    background-color: rgba(103, 255, 178, 0.2);
    color: #67FFB2;
  }
  
  .tag.pediatrics.active, .tag.pediatrics:hover {
    background-color: rgba(103, 255, 178, 0.4);
  }
  
  .tag.rural {
    background-color: rgba(255, 181, 103, 0.2);
    color: #FFB567;
  }
  
  .tag.rural.active, .tag.rural:hover {
    background-color: rgba(255, 181, 103, 0.4);
  }
  
  .tag.urban {
    background-color: rgba(181, 103, 255, 0.2);
    color: #B567FF;
  }
  
  .tag.urban.active, .tag.urban:hover {
    background-color: rgba(181, 103, 255, 0.4);
  }
  
  .sort-filter {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .sort-select {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    color: #fff;
    padding: 12px 15px;
    width: 200px;
    font-family: 'DM Sans', sans-serif;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg width='16' height='9' viewBox='0 0 16 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 9L0 0L16 0L8 9Z' fill='white' fill-opacity='0.5'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .sort-select:focus {
    background-color: rgba(255, 255, 255, 0.15);
    border-color: rgba(138, 103, 255, 0.5);
    outline: none;
  }
  
  .proposal-card {
    background-color: #1C1A24;
    border-radius: 18px;
    overflow: hidden;
    text-decoration: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    padding: 30px;
    margin-bottom: 30px;
    cursor: pointer;
    display: block;
  }
  
  .proposal-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }
  
  .proposal-tag {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 30px;
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 20px;
  }
  
  .proposal-title {
    margin-top: 0;
    margin-bottom: 16px;
    color: #ffffff;
    font-size: 24px;
    font-weight: 700;
    line-height: 1.3;
  }
  
  .proposal-description {
    margin-bottom: 20px;
    color: rgba(255, 255, 255, 0.7);
    font-size: 16px;
    line-height: 1.6;
  }
  
  .proposal-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .proposal-location {
    color: rgba(255, 255, 255, 0.5);
    font-size: 14px;
  }
  
  .proposal-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 20px;
  }
  
  .proposal-tag-item {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    background-color: rgba(56, 182, 255, 0.1);
    color: #38B6FF;
  }
  
  .empty-state {
    text-align: center;
    padding: 60px 20px;
    background-color: rgba(28, 26, 36, 0.5);
    border-radius: 15px;
    margin-bottom: 30px;
  }
  
  .empty-state-title {
    font-size: 24px;
    font-weight: 700;
    color: #fff;
    margin-bottom: 10px;
  }
  
  .empty-state-description {
    font-size: 16px;
    color: rgba(255, 255, 255, 0.7);
    max-width: 500px;
    margin: 0 auto;
  }
</style>

<body class="bg-neutral-800">
  <div class="page-wrapper">
    <!-- Header will be inserted here by the includes.js script -->
    <div id="site-header"></div>
    
    <!-- Hero Section -->
    <section class="section home-hero" style="padding-bottom: 0; position: relative; overflow: visible;">
      <div class="container-medium-940px home-hero">
        <div class="home-hero-featured-message-wrapper" data-w-id="448f5ead-3667-0bad-b1a4-a6038870800b" style="transform: translate3d(0px, 0%, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); opacity: 1; transform-style: preserve-3d;">
          <div class="home-hero-featured-message-content">
            <a class="home-hero-featured-message-link w-inline-block" data-w-id="5747d66c-b4ac-690f-6026-662ab3648be2" href="#">
              <div class="home-hero-featured-message-tag">Explore Our</div>
              <div class="home-hero-featured-message-text">Policy Proposals</div>
              <div class="home-hero-featured-message-icon"></div>
            </a>
            <div class="home-hero-featured-message-blur"></div>
          </div>
        </div>
        <h1 class="proposals-heading" data-w-id="abc7287a-ad94-a3ec-8716-36750d55fc4e" style="transform: translate3d(0px, 0%, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); opacity: 1; transform-style: preserve-3d;">Healthcare <span class="proposals-accent">Policy Proposals</span></h1>
        <p class="proposals-description" data-w-id="749e645b-3b65-110f-471d-f6af6dfbc601" style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); opacity: 1; transform-style: preserve-3d;">Explore innovative policy solutions to healthcare challenges around the world. Filter by region, issue area, or impact potential to find the proposals most relevant to your work.</p>
      </div>
      
      <div class="container-default home-hero w-container">
        <div class="bg-gradient-blur-wrapper home-hero-1" data-w-id="a052a4bf-34f8-d790-1f5c-e2592094cb97" style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(211.349deg) skew(0deg, 0deg); transform-style: preserve-3d; will-change: transform;">
          <div class="bg-gradient-blur-circle-3"></div>
          <div class="bg-gradient-blur-circle-2"></div>
          <div class="bg-gradient-blur-circle-1"></div>
        </div>
        
        <div class="bg-gradient-blur-wrapper home-hero-2" style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(211.349deg) skew(0deg, 0deg); transform-style: preserve-3d; will-change: transform;">
          <div class="bg-gradient-blur-circle-3"></div>
          <div class="bg-gradient-blur-circle-2 blue"></div>
          <div class="bg-gradient-blur-circle-1 purple"></div>
        </div>
      </div>
      
      <div class="container-default w-container" style="position: relative; z-index: 1;">
        <!-- Filters -->
        <div class="filter-container">
          <div class="filter-title">Search and Filter</div>
          
          <input type="text" class="search-input" id="proposal-search" placeholder="Search by keyword, location, or topic">
          
          <div class="filter-title">Filter by Tag</div>
          <div class="tag-filter" id="tag-filter">
            <div class="tag healthcare" data-tag="all">All</div>
            <div class="tag maternal" data-tag="Telehealth">Telehealth</div>
            <div class="tag rural" data-tag="Rural Health">Rural Health</div>
            <div class="tag healthcare" data-tag="Healthcare Access">Healthcare Access</div>
            <div class="tag maternal" data-tag="Maternal Health">Maternal Health</div>
            <div class="tag mental" data-tag="Mental Health">Mental Health</div>
          </div>
          
          <div class="sort-filter">
            <div class="filter-title" style="margin-bottom: 0;">Sort by</div>
            <select class="sort-select" id="sort-select">
              <option value="latest">Latest First</option>
              <option value="name">Name (A-Z)</option>
              <option value="location">Location (A-Z)</option>
            </select>
          </div>
        </div>
        
        <!-- Proposals Container -->
        <div id="proposals-container">
          <!-- Proposals will be loaded here from our data source -->
        </div>
      </div>
    </section>
    
    <!-- Footer will be inserted here by the includes.js script -->
    <div id="site-footer"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Load all proposals
      loadProposals();
      
      // Set up event listeners
      setupEventListeners();
      
      // Listen for proposal updates
      window.addEventListener('proposals-updated', function() {
        loadProposals();
      });
      
      // Enforce city-only URL format for all proposal links
      function updateAllProposalLinks() {
        console.log("Updating all proposal links to city-only format");
        document.querySelectorAll('a[href^="/proposals/"]').forEach(link => {
          const href = link.getAttribute('href');
          console.log("Found proposal link:", href);
          
          // Extract just the city name from any format
          let newHref = href;
          
          // If link has a dash (indicating city-state format), use only the first part
          if (href.includes('-') && !href.endsWith('/')) {
            const parts = href.split('/').pop().split('-');
            const citySlug = parts[0];
            newHref = `/proposals/${citySlug}`;
            console.log(`Converting ${href} to ${newHref}`);
          }
          
          // Remove any .html extensions if present
          if (newHref.endsWith('.html')) {
            newHref = newHref.replace('.html', '');
            console.log(`Removing .html extension: ${newHref}`);
          }
          
          // Ensure trailing slash for clean URLs
          if (!newHref.endsWith('/')) {
            newHref = `${newHref}/`;
            console.log(`Adding trailing slash: ${newHref}`);
          }
          
          // Update the link
          if (newHref !== href) {
            console.log(`Updating link from ${href} to ${newHref}`);
            link.setAttribute('href', newHref);
          }
        });
      }
      
      // Run link updater initially
      updateAllProposalLinks();
      
      // Run link updater after any dynamic content loads
      setTimeout(updateAllProposalLinks, 1000);
      
      // Also patch the window.location.href call in onclick handlers
      // This fixes any dynamically generated cards
      const originalCreateElement = document.createElement;
      document.createElement = function(tag) {
        const element = originalCreateElement.call(document, tag);
        
        if (tag.toLowerCase() === 'div') {
          const originalSetAttribute = element.setAttribute;
          
          // Watch for onclick handlers being set
          element.setAttribute = function(attr, value) {
            if (attr === 'onclick' && typeof value === 'string' && 
                value.includes('window.location.href') && 
                value.includes('/proposals/')) {
              
              // Make sure URLs use city-only format
              const modifiedValue = value.replace(/\/proposals\/[^'"]+-[^'"]+/g, 
                                               (match) => `/proposals/${match.split('-')[0].split('/').pop()}`);
              
              console.log(`Modified onclick handler: ${value} -> ${modifiedValue}`);
              return originalSetAttribute.call(this, attr, modifiedValue);
            }
            
            return originalSetAttribute.call(this, attr, value);
          };
        }
        
        return element;
      };
    });
    
    // Function to load proposals from our data source
    async function loadProposals() {
      const container = document.getElementById('proposals-container');
      if (!container) return;
      
      // Clear the container
      container.innerHTML = '';
      
      // Get proposals from our data source
      let proposals = [];
      
      try {
        // Try multiple sources in order of priority
        if (window.ProposalsCMS && typeof window.ProposalsCMS.getAll === 'function') {
          // Use the ProposalsCMS if available
          proposals = await window.ProposalsCMS.getAll();
        } else {
          // Try to fetch directly from data file
          try {
            const response = await fetch('/data/proposals.json');
            if (response.ok) {
              proposals = await response.json();
            } else {
              // Try to import from JS module
              try {
                const module = await import('/data/proposals.js');
                proposals = module.proposals;
              } catch (err) {
                console.error('Error importing proposals module:', err);
                renderEmptyState(container);
                return;
              }
            }
          } catch (error) {
            console.error('Error loading proposals data:', error);
            renderEmptyState(container);
            return;
          }
        }
        
        // Filter proposals based on search terms and tags
        const searchTerm = (document.getElementById('proposal-search')?.value || '').toLowerCase();
        const activeTag = document.querySelector('.tag.active')?.getAttribute('data-tag') || 'all';
        const sortOption = document.getElementById('sort-select')?.value || 'latest';
        
        // Apply filters
        let filteredProposals = proposals;
        
        // Apply search filter if search term exists
        if (searchTerm) {
          filteredProposals = filteredProposals.filter(proposal => {
            // Search in multiple fields
            const searchFields = [
              proposal.name || '',
              proposal.description || '',
              proposal.city || '',
              proposal.state || '',
              proposal.country || '',
              ...(proposal.tags || [])
            ].map(field => (typeof field === 'string' ? field.toLowerCase() : ''));
            
            // Check if any field contains the search term
            return searchFields.some(field => field.includes(searchTerm));
          });
        }
        
        // Apply tag filter if not "all"
        if (activeTag && activeTag !== 'all') {
          filteredProposals = filteredProposals.filter(proposal => {
            const tags = proposal.tags || [];
            return tags.some(tag => tag.toLowerCase() === activeTag.toLowerCase());
          });
        }
        
        // Apply sorting
        switch (sortOption) {
          case 'name':
            filteredProposals.sort((a, b) => (a.name || '').localeCompare(b.name || ''));
            break;
          case 'location':
            filteredProposals.sort((a, b) => (a.city || '').localeCompare(b.city || ''));
            break;
          case 'latest':
          default:
            // Latest proposals first (no specific sorting needed as they should be in order)
            break;
        }
        
        // Render the filtered proposals
        if (filteredProposals.length > 0) {
          renderProposals(filteredProposals, container);
        } else {
          renderNoResultsState(container);
        }
      } catch (error) {
        console.error('Error loading proposals:', error);
        renderEmptyState(container);
      }
    }
    
    // Function to render proposals
    function renderProposals(proposals, container) {
      proposals.forEach(proposal => {
        // Get title from name or healthcareIssue for backward compatibility
        const title = proposal.name || proposal.healthcareIssue || 'Healthcare Proposal';
        
        // Generate URL slug - ONLY USE CITY NAME
        const citySlug = proposal.city ? proposal.city.toLowerCase().replace(/\s+/g,'-').replace(/[^\w-]/g, '') : '';
        
        // Get tags
        const tags = proposal.tags || [];
        
        // Create card element
        const card = document.createElement('div');
        card.className = 'proposal-card';
        card.onclick = function() {
          window.location.href = `/proposals/${citySlug}/`;
        };
        
        // Create tag elements
        const tagElements = tags.map(tag => {
          let tagClass = 'healthcare';
          if (tag.toLowerCase().includes('telehealth')) tagClass = 'maternal';
          else if (tag.toLowerCase().includes('rural')) tagClass = 'rural';
          else if (tag.toLowerCase().includes('maternal')) tagClass = 'maternal';
          else if (tag.toLowerCase().includes('mental')) tagClass = 'mental';
          else if (tag.toLowerCase().includes('access')) tagClass = 'healthcare';
          
          return `<div class="proposal-tag-item ${tagClass}">${tag}</div>`;
        }).join('');
        
        // Set card content
        card.innerHTML = `
          <div class="proposal-tag healthcare">${tags[0] || 'Healthcare'}</div>
          <h3 class="proposal-title">${title}</h3>
          <p class="proposal-description">${proposal.description || ''}</p>
          <div class="proposal-footer">
            <div class="proposal-location">${proposal.city}, ${proposal.state || ''} ${proposal.country || ''}</div>
          </div>
          <div class="proposal-tags">
            ${tagElements}
          </div>
        `;
        
        // Add to container
        container.appendChild(card);
      });
    }
    
    // Function to render empty state
    function renderEmptyState(container) {
      container.innerHTML = `
        <div class="empty-state">
          <h3 class="empty-state-title">No proposals available</h3>
          <p class="empty-state-description">There are no healthcare policy proposals in our database yet. Please check back soon or submit a proposal through the admin portal.</p>
        </div>
      `;
    }
    
    // Function to render no results state
    function renderNoResultsState(container) {
      container.innerHTML = `
        <div class="empty-state">
          <h3 class="empty-state-title">No matching proposals found</h3>
          <p class="empty-state-description">Your search criteria didn't match any proposals. Try adjusting your filters or search terms.</p>
        </div>
      `;
    }
    
    // Set up event listeners for search, filter, and sort
    function setupEventListeners() {
      // Search input
      const searchInput = document.getElementById('proposal-search');
      if (searchInput) {
        searchInput.addEventListener('input', function() {
          loadProposals();
        });
      }
      
      // Tag filters
      const tagFilters = document.querySelectorAll('.tag');
      tagFilters.forEach(tag => {
        tag.addEventListener('click', function() {
          // Remove active class from all tags
          tagFilters.forEach(t => t.classList.remove('active'));
          
          // Add active class to clicked tag
          this.classList.add('active');
          
          // Reload proposals with filter
          loadProposals();
        });
      });
      
      // Set "All" tag as active by default
      const allTag = document.querySelector('.tag[data-tag="all"]');
      if (allTag) {
        allTag.classList.add('active');
      }
      
      // Sort select
      const sortSelect = document.getElementById('sort-select');
      if (sortSelect) {
        sortSelect.addEventListener('change', function() {
          loadProposals();
        });
      }
    }
  </script>
</body>
</html>