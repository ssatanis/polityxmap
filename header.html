<!-- Features Navigation Script -->
<script src="features-navigation.js"></script>

<div class="header w-nav" data-animation="over-left" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner">
  <div class="container-default w-container">
    <div class="header-wrapper">
      <div class="split-content header-right">
        <a class="brand w-nav-brand" href="/">
          <img alt="PolityxMap - Logo" class="header-logo" src="img/PolityxMap.svg"/>
        </a>
      </div>
      <div class="split-content header-center">
        <nav class="nav-menu w-nav-menu" role="navigation">
          <ul class="header-navigation w-list-unstyled" role="list">
            <li class="nav-item-wrapper"><a class="nav-link" href="/">Home</a></li>
            <li class="nav-item-wrapper"><a class="nav-link" href="/proposals">Proposals</a></li>
            <li class="nav-item-wrapper"><a class="nav-link" href="/news">News</a></li>
            <li class="nav-item-wrapper"><a class="nav-link features-link" href="/#features">Features</a></li>
            <li class="nav-item-wrapper"><a class="nav-link" href="/about">About</a></li>
            <li class="nav-item-wrapper"><a class="nav-link" href="/contribute">Contribute</a></li>
            <li class="nav-item-wrapper"><a class="nav-link" href="mailto:support@polityxmap.org">Contact</a></li>
          </ul>
        </nav>
      </div>
      <div class="split-content header-left">
        <div class="button-primary-gradient header-button">
          <a class="button-primary small-v2 w-button" href="/#map">Map</a>
        </div>
        <div class="menu-button w-nav-button" role="button" onclick="toggleMobileMenu();">
          <div class="header-menu-button-icon-wrapper">
            <div class="icon-wrapper">
              <div class="header-menu-button-icon-top"></div>
              <div class="header-menu-button-icon-medium"></div>
              <div class="header-menu-button-icon-bottom"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Mobile menu toggle functionality
function toggleMobileMenu() {
  const navMenu = document.querySelector('.nav-menu.w-nav-menu');
  const menuButton = document.querySelector('.menu-button.w-nav-button');
  
  if (navMenu && menuButton) {
    navMenu.classList.toggle('w--open');
    menuButton.classList.toggle('w--open');
    
    // Toggle body scroll lock for mobile
    document.body.classList.toggle('nav-open');
  }
}

// Close menu when clicking nav links on mobile
document.addEventListener('DOMContentLoaded', function() {
  const navLinks = document.querySelectorAll('.nav-link');
  navLinks.forEach(link => {
    link.addEventListener('click', function() {
      const navMenu = document.querySelector('.nav-menu.w-nav-menu');
      const menuButton = document.querySelector('.menu-button.w-nav-button');
      
      if (navMenu && menuButton && navMenu.classList.contains('w--open')) {
        navMenu.classList.remove('w--open');
        menuButton.classList.remove('w--open');
        document.body.classList.remove('nav-open');
      }
    });
  });
});
</script>